require(["jquery","owlCarouselJs","mainJs","domReady!"],function(T){jQuery(document).ready(function(){var t=T(window).width(),n=T(window).height();if(jQuery("#scroll-to-top").click(function(){return jQuery("html, body").animate({scrollTop:0},600,"easeOutCubic"),!1}),T(".products-grid .product-items").length){var e=T(".products-grid .product-items .item"),o=T(e).find(".product-image-wrapper"),a=T(e).find(".product-item-name"),i=T(e).find(".atributo-familia"),r=T(e).find(".price-box"),s=[],c=[],p=[],d=[],l=[];setTimeout(function(){jQuery.each(o,function(e,t){c.push(jQuery(t).innerHeight())}),Math.max.apply(Math,c),jQuery(o).css("minHeight",Math.max.apply(Math,c)+"px"),jQuery.each(a,function(e,t){p.push(jQuery(t).innerHeight())}),Math.max.apply(Math,p),jQuery(a).css("minHeight",Math.max.apply(Math,p)+"px"),jQuery.each(i,function(e,t){d.push(jQuery(t).innerHeight())}),Math.max.apply(Math,d),jQuery(i).css("minHeight",Math.max.apply(Math,d)+"px"),jQuery.each(r,function(e,t){l.push(jQuery(t).innerHeight())}),Math.max.apply(Math,l),jQuery(r).css("minHeight",Math.max.apply(Math,l)+"px"),jQuery.each(e,function(e,t){s.push(jQuery(t).innerHeight())}),Math.max.apply(Math,s),jQuery(e).css("height",Math.max.apply(Math,s)+"px")},500)}if(jQuery(".control-qty").on("click",function(e){var t=jQuery(this),n=t.parent(),o=n.find("input.input-text.qty"),a=parseInt(o.val());t.hasClass("remove")?2<=a&&(o.val(a-1),2==a&&t.addClass("disable")):t.hasClass("add")&&(o.val(a+1),n.find(".remove").removeClass("disable"))}),T(".catalog-product-view .product-addto-links").length){var u=T(".catalog-product-view .product-addto-links");u.remove(),T(".product-info_main .product-add-form .box-tocart .actions").append(u)}if(T(".catalog-product-view .product-info_main .ept-social-share").length&&T(".catalog-product-view .product-info_main .product-social-links").length){var h=T(".catalog-product-view .product-info_main .product-social-links");T(".catalog-product-view .product-info_main .ept-social-share").append(h)}T("footer .footer-nav .link-block h4").click(function(){t<=992&&(T(this).hasClass("open")?(T(this).removeClass("open"),T(this).find(".icon").removeClass("icon-up-open").addClass("icon-down-open"),T(this).find(".icon").html("&#xe82c;"),T(this).parent().find("ul").slideUp()):(T("footer .footer-nav .link-block h4").removeClass("open"),T("footer .footer-nav .link-block ul").slideUp(),T("footer .footer-nav .link-block h4 .icon").removeClass("icon-up-open").addClass("icon-down-open"),T("footer .footer-nav .link-block h4 .icon").html("&#xe82c;"),T(this).addClass("open"),T(this).find(".icon").removeClass("icon-down-open").addClass("icon-up-open"),T(this).find(".icon").html("&#xe82f;"),T(this).parent().find("ul").slideDown()))});var f=T("input.required-entry, select.required-entry");function g(){jQuery(".block-search").toggleClass("open"),jQuery(".icon-search-button").toggleClass("close"),T("#iconBurgerButton").hasClass("close")&&v()}function v(){var e=n-T(".page-header").innerHeight();T("header.page-header .wrapper-nav .nav-sections").toggleClass("open"),T("body").toggleClass("open-menu"),T("header .wrapper-nav .nav-sections").css("minHeight",e),T("#iconBurgerButton").toggleClass("close"),setTimeout(function(){T("header .wrapper-nav .nav-sections .nav-sections-items").toggleClass("open")},200)}if(T.each(f,function(e,t){T(t).parents(".field").hasClass("required")||T(t).parents(".field").addClass("required")}),jQuery(".icon-search-button").click(function(){g()}),T("#iconBurgerButton").click(function(){T(".icon-search-button").hasClass("close")&&g(),v()}),T("header .nav-sections .navigation ul.ui-menu .level0.parent > .level-top > .ui-menu-icon").click(function(e){e.preventDefault(),t<=992&&T(this).parent().parent().find(" > .submenu").slideToggle()}),T("header .header-toplinks a").click(function(){T(".icon-search-button").hasClass("close")&&g(),T("#iconBurgerButton").hasClass("close")&&v()}),T("header .switcher-language .action.switcher-trigger").click(function(){T(".icon-search-button").hasClass("close")&&g(),T("#iconBurgerButton").hasClass("close")&&v()}),T(".products-grid .owl-carousel").length&&T(".products-grid .owl-carousel").owlCarousel({nav:!0,dots:!0,navSpeed:800,loop:!0,margin:30,responsive:{0:{items:1},650:{items:3},992:{items:4}}}),T(".header-account-mobile").length){var m=T(".header-account-mobile"),y=T("header.page-header .header-wrapper-nav .wrapper-nav .nav-sections .nav-sections-items");T(y).append(m)}var C,j,b=T("form .fieldset > .field.region #region_id");function x(){T("body").trigger("processStart"),T("#zip").val(""),T.ajax({url:"/places/search/",type:"GET",dataType:"json",success:function(e){T(b).find('option:not([value=""])').remove(),T.each(e,function(e,t){T(b).append("<option value='"+t.Name+"' parentid='"+t.Id+"'>"+t.Name+"</option>")}),T(b).show(),T(b).attr("disabled",!1),T("input#region").hide(),T("body").trigger("processStop")}})}T(b).length&&(j=setInterval(function(){C=T(b).find("option"),1<=T(C).length&&(x(),clearInterval(j))},1e3));var k=T("form .fieldset > .field.country #country");T(k).change(function(){x()});var w,Q,I=T("form .fieldset > .field.city #city_id"),M=T("form .fieldset > .field.street-zone .control");b.on("change",function(e){T("body").trigger("processStart"),T("#zip").val(""),T.ajax({url:"/places/search/",data:"parentId="+b.find("option:selected").attr("parentid"),type:"GET",dataType:"json",success:function(e){T(I).find('option:not([value=""])').remove(),T.each(e,function(e,t){T(I).append("<option value='"+t.Id+"' parentid='"+t.Id+"'>"+t.Name+"</option>")}),T("body").trigger("processStop")}});var t=T(b).find("option:selected");T(b).parent().find("input").val(T(t).text()),T(b).parent().find("input").keyup()}),T("#city_id").on("change",function(e){T("body").trigger("processStart"),T("#zip").val(""),T.ajax({url:"/places/search/",data:"parentId="+T("#city_id").find("option:selected").attr("parentid"),type:"GET",dataType:"json",success:function(e){T(M).find('select option:not([value=""])').remove(),"GT"==T('select[name="country_id"]').val()?T.each(e,function(e,t){T(M).find("select").append("<option value='"+t.ParentId+"' parentid='"+t.ParentId+"' postalcode='"+t.Name+"'>"+t.Name+"</option>")}):T.each(e,function(e,t){T(M).find("select").append("<option value='"+t.ParentId+"' parentid='"+t.ParentId+"' postalcode='"+t.PostalCode+"'>"+t.Name+"</option>")}),T("body").trigger("processStop")}});var t=T("#city_id").find("option:selected");T("#city_id").parent().find("input").val(T(t).text()),T("#city_id").parent().find("input").keyup()}),M.on("change",function(e){T("body").trigger("processStart");var t=T(M).find("option:selected");"null"!=T(t).attr("postalcode")&&(T("#zip").val(T(t).attr("postalcode")),T("#zip").keyup()),T("body").trigger("processStop")}),-1<window.location.href.indexOf("checkout")&&(j=setInterval(function(){Q=T('form .fieldset > .field[name="shippingAddress.region"] .control'),1<=T(Q).length&&(function(){T("body").trigger("processStart"),T('input[name="postcode"]').val("");var a=T("form .fieldset > .field.street .control .additional .control"),i=T('form .fieldset > .field select[name="custom_attributes[zone_id]"]');T(a).find("input").hide(),w=T('form .fieldset > .field[name="shippingAddress.city"] .control'),T.ajax({url:"/places/search/",type:"GET",dataType:"json",success:function(t){if(T(Q).find("input").length){T(Q).find("input").hide();var n='<select id="fieldStateCheckout" class="select" name="state_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a region, state or province.</option>';T.each(t,function(e,t){n+="<option value='' parentid='"+t.Id+"''>"+t.Name+"</option>"}),n+="</select>",T(Q).append(n)}else{var e=T(Q).find("select option");T.each(e,function(e,n){var o=T(n).text();T.each(t,function(e,t){t.Name==o&&(T(n).attr("parentId",t.Id),T(n).show())})})}T(w).find("input").hide(),T(w).append('<select id="fieldCityCheckout" class="select" name="cities_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a city.</option></select>'),T("body").trigger("processStop");var o=T(Q).find("select");T(o).on("change",function(e){T("body").trigger("processStart"),T('input[name="postcode"]').val(""),T.ajax({url:"/places/search/",data:"parentId="+T(o).find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){console.log(e),T(w).find('select option:not([value=""])').remove(),T.each(e,function(e,t){T(w).find("select").append("<option value='"+t.Id+"' parentId='"+t.Id+"'>"+t.Name+"</option>")}),T("body").trigger("processStop")}});var t=T(Q).find("select option:selected");T(Q).find("input").val(T(t).text()),T(Q).find("input").keyup()}),T("#fieldCityCheckout").on("change",function(e){T("body").trigger("processStart"),T('input[name="postcode"]').val("");var t=T(w).find("select option:selected");T(w).find("input").val(T(t).text()),T(w).find("input").keyup(),T.ajax({url:"/places/search/",data:"parentId="+T("#fieldCityCheckout").find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){T(i).find("option").remove(),T(i).append('<option data-title="" value="" selected>Please select a zone.</option>'),"GT"==T('select[name="country_id"]').val()?T.each(e,function(e,t){T(i).append("<option value='"+t.ParentId+"' parentId='"+t.ParentId+"' postalCode='"+t.Name+"'>"+t.Name+"</option>")}):T.each(e,function(e,t){T(i).append("<option value='"+t.ParentId+"' parentId='"+t.ParentId+"' postalCode='"+t.PostalCode+"'>"+t.Name+"</option>")}),T("body").trigger("processStop")}})}),T('select[name="custom_attributes[zone_id]"]').on("change",function(e){T("body").trigger("processStart");var t=T('select[name="custom_attributes[zone_id]"]').find("option:selected");T(a).find("input").val(T(t).text()),T(a).find("input").keyup(),"null"!=T(t).attr("postalCode")&&(T('input[name="postcode"]').val(T(t).attr("postalCode")),T('input[name="postcode"]').keyup()),T("body").trigger("processStop")})}})}(),clearInterval(j))},1e3));var _=T("footer a");T.each(_,function(e,t){if("Zendesk Support"==t.innerText||"Preguntas frecuentes"==t.innerText){var n=T(this).parent();T("footer .col-md-3:eq(0) ul").append(n)}})});var e=jQuery(".search.results .products-grid .product-items .item"),n=[];jQuery.each(e,function(e,t){n.push(jQuery(t).innerHeight()),console.log(jQuery(t).innerHeight())}),Math.max.apply(Math,n),jQuery(e).css("height",Math.max.apply(Math,n)+"px"),jQuery(window).on("scroll",function(){300<jQuery(window).scrollTop()?jQuery("#scroll-to-top").addClass("show"):jQuery("#scroll-to-top").removeClass("show")})});