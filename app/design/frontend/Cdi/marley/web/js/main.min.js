require(["jquery"],function(Q,e){"use strict";var T=jQuery("header").innerHeight(),M=jQuery(window).width(),S=Q(".block-minicart .product-item");Q(document).ready(function(){if(S=S.length,M<=959?Q("html body").css("paddingTop",T):Q("html body").css("paddingTop",0),Q("#scroll-to-top").click(function(){Q("html, body").animate({scrollTop:0},500,"swing")}),M<=768){var e=Q("#search-wrapper-mobile .block-search"),t=Q("#mini-cart-wrapper-mobile .minicart-wrapper");0==Q(e).length&&Q("#search-wrapper-mobile").append(Q(".block-search")),0==Q(t).length&&Q("#mini-cart-wrapper-mobile").append(Q(".minicart-wrapper"))}else Q(e).remove(),Q(t).remove();if(Q(".products-grid .product-items").length){var a=Q(".products-grid .product-items > .item"),n=Q(a).find(".product-image-wrapper"),i=Q(a).find(".product-name"),r=Q(a).find(".atributo-familia"),o=Q(a).find(".price-box"),p=[],s=[],d=[],l=[],c=[];setTimeout(function(){jQuery.each(n,function(e,t){s.push(jQuery(t).innerHeight())}),Math.max.apply(Math,s),jQuery(n).css("minHeight",Math.max.apply(Math,s)+"px"),jQuery.each(i,function(e,t){d.push(jQuery(t).innerHeight())}),Math.max.apply(Math,d),jQuery(i).css("minHeight",Math.max.apply(Math,d)+"px"),jQuery.each(r,function(e,t){l.push(jQuery(t).innerHeight())}),Math.max.apply(Math,l),jQuery(r).css("minHeight",Math.max.apply(Math,l)+"px"),jQuery.each(o,function(e,t){c.push(jQuery(t).innerHeight())}),Math.max.apply(Math,c),jQuery(o).css("minHeight",Math.max.apply(Math,c)+"px"),jQuery.each(a,function(e,t){p.push(jQuery(t).innerHeight())}),Math.max.apply(Math,p),jQuery(a).css("height",Math.max.apply(Math,p)+"px")},500)}if(jQuery(".control-qty").on("click",function(e){var t=jQuery(this),a=t.parent(),n=a.find("input.input-text.qty"),i=parseInt(n.val());t.hasClass("remove")?2<=i&&(n.val(i-1),2==i&&t.addClass("disable")):t.hasClass("add")&&(n.val(i+1),a.find(".remove").removeClass("disable"))}),Q("header.header-primary-container .mobnav-trigger-wrapper .mobnav-trigger").click(function(){jQuery("header.header-primary-container .wrapper-nav").css("top",T+"px"),Q(this).hasClass("open")?(Q(this).removeClass("open"),Q("header.header-primary-container .wrapper-nav").slideUp()):(Q(this).addClass("open"),Q("header.header-primary-container .wrapper-nav").slideDown())}),Q("footer .footer-primary .row>div h3").click(function(){Q(this).hasClass("open")?(Q(this).removeClass("open"),Q(this).parent().find("ul").slideUp()):(Q("footer .footer-primary .row > div h3").removeClass("open"),Q("footer .footer-primary .row > div ul").slideUp(),Q(this).addClass("open"),Q(this).parent().find("ul").slideDown())}),jQuery(".hero-banner")){var u=jQuery(".hero-banner .text-overlay-banner");jQuery(".hero-banner .text-block-banner").prepend(u),jQuery(u).addClass("show")}var f=Q(".skip-content"),h=Q(".skip-link");h.on("click",function(e){e.preventDefault();var t=Q(this),a=t.attr("href"),n=Q(a),i=n.hasClass("skip-active")?1:0;h.removeClass("skip-active"),f.removeClass("skip-active"),i?t.removeClass("skip-active"):(t.addClass("skip-active"),n.addClass("skip-active"))});var m=Q("input.required-entry, select.required-entry");Q.each(m,function(e,t){Q(t).parents(".field").hasClass("required")||Q(t).parents(".field").addClass("required")});var v,y,g=Q("form .fieldset > .field.region #region_id");function j(){Q.ajax({url:"/places/search/",type:"GET",dataType:"json",success:function(e){Q(g).find('option:not([value=""])').remove(),Q.each(e,function(e,t){Q(g).append("<option value='"+t.Id+"' parentid='"+t.Id+"'>"+t.Name+"</option>")}),Q(g).show(),Q(g).attr("disabled",!1),Q("input#region").hide()}})}Q(g).length&&(y=setInterval(function(){v=Q(g).find("option"),1<=Q(v).length&&(j(),clearInterval(y))},1e3));var x=Q("form .fieldset > .field.country #country");Q(x).change(function(){j()});var w,C,b=Q("form .fieldset > .field.city #city_id"),k=Q("form .fieldset > .field.street .control .nested .additional .control");Q(k).append('<select id="fieldSelectStreet" class="select" name="street2_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a zone.</option></select>'),Q(k).find("input").hide(),g.on("change",function(e){Q.ajax({url:"/places/search/",data:"parentId="+g.find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){Q(b).find('option:not([value=""])').remove(),Q.each(e,function(e,t){Q(b).append("<option value='"+t.Id+"' parentId='"+t.Id+"'>"+t.Name+"</option>")})}});var t=Q(g).find("option:selected");Q(g).parent().find("input").val(Q(t).text()),Q(g).parent().find("input").keyup()}),Q("#city_id").on("change",function(e){Q.ajax({url:"/places/search/",data:"parentId="+Q("#city_id").find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){Q(k).find('select option:not([value=""])').remove(),Q.each(e,function(e,t){Q(k).find("select").append("<option value='"+t.ParentId+"' parentId='"+t.ParentId+"' postalCode='"+t.PostalCode+"'>"+t.Name+"</option>")})}})}),Q("#fieldSelectStreet").on("change",function(e){var t=Q("#fieldSelectStreet").find("option:selected");Q(k).find("input").val(Q(t).text()),Q(k).find("input").keyup(),Q("#zip").val(Q(t).attr("postalCode")),Q("#zip").find("input").keyup()}),-1<window.location.href.indexOf("checkout")&&(y=setInterval(function(){C=Q('form .fieldset > .field[name="shippingAddress.region_id"] .control'),1<=Q(C).length&&(function(){var i=Q("form .fieldset > .field.street .control .additional .control");Q(i).append('<select id="fieldSelectStreet" class="select" name="street2_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a zone.</option></select>'),Q(i).find("input").hide(),w=Q('form .fieldset > .field[name="shippingAddress.city"] .control'),Q.ajax({url:"/places/search/",type:"GET",dataType:"json",success:function(t){if(Q(C).find("input").length){Q(C).find("input").hide();var a='<select id="fieldStateCheckout" class="select" name="state_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a region, state or province.</option>';Q.each(t,function(e,t){a+="<option value='' parentid='"+t.Id+"''>"+t.Name+"</option>"}),a+="</select>",Q(C).append(a)}else{var e=Q(C).find("select option");Q.each(e,function(e,a){var n=Q(a).text();Q.each(t,function(e,t){t.Name==n&&(Q(a).attr("parentId",t.Id),Q(a).show())})})}Q(w).find("input").hide(),Q(w).append('<select id="fieldCityCheckout" class="select" name="cities_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a city.</option></select>');var n=Q(C).find("select");Q(n).on("change",function(e){Q.ajax({url:"/places/search/",data:"parentId="+Q(n).find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){console.log(e),Q(w).find('select option:not([value=""])').remove(),Q.each(e,function(e,t){Q(w).find("select").append("<option value='"+t.Id+"' parentId='"+t.Id+"'>"+t.Name+"</option>")})}});var t=Q(C).find("select option:selected");Q(C).find("input").val(Q(t).text()),Q(C).find("input").keyup()}),Q("#fieldCityCheckout").on("change",function(e){var t=Q(w).find("select option:selected");Q(w).find("input").val(Q(t).text()),Q(w).find("input").keyup(),Q.ajax({url:"/places/search/",data:"parentId="+Q("#fieldCityCheckout").find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){Q(i).find('select option:not([value=""])').remove(),Q.each(e,function(e,t){Q(i).find("select").append("<option value='"+t.ParentId+"' parentId='"+t.ParentId+"' postalCode='"+t.PostalCode+"'>"+t.Name+"</option>")})}})}),Q("#fieldSelectStreet").on("change",function(e){var t=Q("#fieldSelectStreet").find("option:selected");Q(i).find("input").val(Q(t).text()),Q(i).find("input").keyup(),Q('input[name="postcode"]').val(Q(t).attr("postalCode")),Q('input[name="postcode"]').keyup()})}})}(),clearInterval(y))},1e3));var I=Q("footer a");Q.each(I,function(e,t){if("Zendesk Support"==t.innerText||"Preguntas frecuentes"==t.innerText){var a=Q(this).parent();Q("footer .col-md-3:eq(0) .nav-submenu").append(a)}})});var t,a=0;return Q(document).ajaxComplete(function(){""!=Q(".totals.sub .price").text()&&1==(a+=1)&&updateShoppingCart()}),jQuery(window).on("scroll",function(){clearTimeout(t),t=setTimeout(function(){100<Q(this).scrollTop()?Q("#scroll-to-top").fadeIn():Q("#scroll-to-top").fadeOut()},500)}),jQuery(window).on("resize",function(){if(T=jQuery("header").innerHeight(),M<=959?Q("html body").css("paddingTop",T):Q("html body").css("paddingTop",0),M<=768){var e=Q("#search-wrapper-mobile .block-search"),t=Q("#mini-cart-wrapper-mobile .minicart-wrapper");0==Q(e).length&&Q("#search-wrapper-mobile").append(Q(".block-search")),0==Q(t).length&&Q("#mini-cart-wrapper-mobile").append(Q(".minicart-wrapper"))}else Q(e).remove(),Q(t).remove()}),e});