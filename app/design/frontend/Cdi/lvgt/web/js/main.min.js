require(["jquery","owlCarouselJs","mainJs","domReady!"],function(_){jQuery(document).ready(function(){var t=_(window).width(),n=_(window).height();if(jQuery("#scroll-to-top").click(function(){return jQuery("html, body").animate({scrollTop:0},600,"easeOutCubic"),!1}),_(".products-grid .product-items").length){var e=_(".products-grid .product-items .item"),a=_(e).find(".product-image-wrapper"),i=_(e).find(".product-name"),o=_(e).find(".atributo-familia"),r=_(e).find(".price-box"),s=[],c=[],d=[],l=[],p=[];setTimeout(function(){jQuery.each(a,function(e,t){c.push(jQuery(t).innerHeight())}),Math.max.apply(Math,c),jQuery(a).css("minHeight",Math.max.apply(Math,c)+"px"),jQuery.each(i,function(e,t){d.push(jQuery(t).innerHeight())}),Math.max.apply(Math,d),jQuery(i).css("minHeight",Math.max.apply(Math,d)+"px"),jQuery.each(o,function(e,t){l.push(jQuery(t).innerHeight())}),Math.max.apply(Math,l),jQuery(o).css("minHeight",Math.max.apply(Math,l)+"px"),jQuery.each(r,function(e,t){p.push(jQuery(t).innerHeight())}),Math.max.apply(Math,p),jQuery(r).css("minHeight",Math.max.apply(Math,p)+"px"),jQuery.each(e,function(e,t){s.push(jQuery(t).innerHeight())}),Math.max.apply(Math,s),jQuery(e).css("height",Math.max.apply(Math,s)+"px")},500)}if(jQuery(".control-qty").on("click",function(e){var t=jQuery(this),n=t.parent(),a=n.find("input.input-text.qty"),i=parseInt(a.val());t.hasClass("remove")?2<=i&&(a.val(i-1),2==i&&t.addClass("disable")):t.hasClass("add")&&(a.val(i+1),n.find(".remove").removeClass("disable"))}),_(".catalog-product-view .product-addto-links").length){var u=_(".catalog-product-view .product-addto-links");u.remove(),_(".product-info_main .product-add-form .box-tocart .actions").append(u)}if(_(".catalog-product-view .product-info_main .ept-social-share").length&&_(".catalog-product-view .product-info_main .product-social-links").length){var f=_(".catalog-product-view .product-info_main .product-social-links");_(".catalog-product-view .product-info_main .ept-social-share").append(f)}_("footer .footer-nav .link-block h4").click(function(){_(this).hasClass("open")?(_(this).removeClass("open"),_(this).find(".icon").removeClass("icon-up-open").addClass("icon-down-open"),_(this).find(".icon").html("&#xe82c;"),_(this).parent().find("ul").slideUp()):(_("footer .footer-nav .link-block h4").removeClass("open"),_("footer .footer-nav .link-block ul").slideUp(),_("footer .footer-nav .link-block h4 .icon").removeClass("icon-up-open").addClass("icon-down-open"),_("footer .footer-nav .link-block h4 .icon").html("&#xe82c;"),_(this).addClass("open"),_(this).find(".icon").removeClass("icon-down-open").addClass("icon-up-open"),_(this).find(".icon").html("&#xe82f;"),_(this).parent().find("ul").slideDown())});var h=_("input.required-entry, select.required-entry");function g(){jQuery(".block-search").toggleClass("open"),jQuery(".icon-search-button").toggleClass("close"),_("#iconBurgerButton").hasClass("close")&&v()}function v(){var e=n-_(".page-header").innerHeight();_("header.page-header .wrapper-nav .nav-sections").toggleClass("open"),_("body").toggleClass("open-menu"),_("header .wrapper-nav .nav-sections").css("minHeight",e),_("#iconBurgerButton").toggleClass("close"),setTimeout(function(){_("header .wrapper-nav .nav-sections .nav-sections-items").toggleClass("open")},200)}if(_.each(h,function(e,t){_(t).parents(".field").hasClass("required")||_(t).parents(".field").addClass("required")}),jQuery(".icon-search-button").click(function(){g()}),_("#iconBurgerButton").click(function(){_(".icon-search-button").hasClass("close")&&g(),v()}),_("header .nav-sections .navigation ul.ui-menu .level0.parent > .level-top > .ui-menu-icon").click(function(e){e.preventDefault(),t<=992&&_(this).parent().parent().find(" > .submenu").slideToggle()}),_("header .header-toplinks a").click(function(){_(".icon-search-button").hasClass("close")&&g(),_("#iconBurgerButton").hasClass("close")&&v()}),_("header .switcher-language .action.switcher-trigger").click(function(){_(".icon-search-button").hasClass("close")&&g(),_("#iconBurgerButton").hasClass("close")&&v()}),_(".products-grid .owl-carousel").length&&_(".products-grid .owl-carousel").owlCarousel({nav:!0,dots:!0,navSpeed:800,loop:!0,margin:30,responsive:{0:{items:1},650:{items:3},992:{items:4}}}),_(".header-account-mobile").length){var m=_(".header-account-mobile"),y=_("header.page-header .header-wrapper-nav .wrapper-nav .nav-sections .nav-sections-items");_(y).append(m)}var b,j,C=_("form .fieldset > .field.region #region_id");function x(){_("body").trigger("processStart"),_("#zip").val(""),_.ajax({url:"/places/search/",type:"GET",dataType:"json",success:function(e){_(C).find('option:not([value=""])').remove(),_.each(e,function(e,t){_(C).append("<option value='"+t.Name+"' parentid='"+t.Id+"'>"+t.Name+"</option>")}),_(C).show(),_(C).attr("disabled",!1),_("input#region").hide(),_("body").trigger("processStop")}})}_(C).length&&(j=setInterval(function(){b=_(C).find("option"),1<=_(b).length&&(x(),clearInterval(j))},1e3));var k=_("form .fieldset > .field.country #country");_(k).change(function(){x()});var w,Q,I=_("form .fieldset > .field.city #city_id"),M=_("form .fieldset > .field.street-zone .control");function S(i){_("body").trigger("processStart"),_(i).find('input[name="postcode"]').val("");var o=_(i).find("> .field.street .control .additional .control"),r=_(i).find('> .field input[name="custom_attributes[zone_id]"]').parent();_(o).find("input").hide(),_(r).find("input").hide(),w=_(i).find('> .field input[name="city"]').parent(),_.ajax({url:"/places/search/",type:"GET",dataType:"json",success:function(t){if(_(Q).find("input").length){console.log(_(Q).find("input").attr("name")),_(Q).find("input").hide();var n='<select id="fieldStateCheckout" class="select" name="state_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a region, state or province.</option>';_.each(t,function(e,t){n+="<option value='' parentid='"+t.Id+"''>"+t.Name+"</option>"}),n+="</select>",_(Q).append(n)}else{var e=_(Q).find("select option");_.each(e,function(e,n){var a=_(n).text();_.each(t,function(e,t){t.Name==a&&(_(n).attr("parentId",t.Id),_(n).show())})})}_(w).find("input").hide();_(w).append('<select id="fieldCityCheckout" class="select" name="cities_id" aria-required="true" aria-invalid="false" disabled><option data-title="" value="">Please select a city.</option></select>');_(r).append('<select id="fieldZoneCheckout" class="select" name="zone_id" aria-required="true" aria-invalid="false" disabled><option data-title="" value="">Please select a zone.</option></select>'),_("body").trigger("processStop");var a=_(Q).find("select");_(a).on("change",function(e){_("body").trigger("processStart"),_(i).find('input[name="postcode"]').val(""),_.ajax({url:"/places/search/",data:"parentId="+_(a).find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){_(w).find("select").attr("disabled",!1),_(w).find('select option:not([value=""])').remove(),_.each(e,function(e,t){_(w).find("select").append("<option value='"+t.Id+"' parentId='"+t.Id+"'>"+t.Name+"</option>")}),_("body").trigger("processStop")}});var t=_(Q).find("select option:selected");_(Q).find("input").val(_(t).text()),_(Q).find("input").keyup()}),_(i).find("#fieldCityCheckout").on("change",function(e){_("body").trigger("processStart"),_(i).find('input[name="postcode"]').val("");var t=_(w).find("select option:selected");_(w).find("input").val(_(t).text()),_(w).find("input").keyup(),_.ajax({url:"/places/search/",data:"parentId="+_(this).find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){_(r).find("select").attr("disabled",!1),_(r).find("select option").remove(),_(r).find("select").append('<option data-title="" value="" selected>Please select a zone.</option>'),_.each(e,function(e,t){_(r).find("select").append("<option value='"+t.ParentId+"' parentId='"+t.ParentId+"' postalCode='"+t.PostalCode+"'>"+t.Name+"</option>")}),_("body").trigger("processStop")}})}),_(r).find("select").on("change",function(e){_("body").trigger("processStart");var t=_(r).find("select option:selected");_(r).find("input").val(_(this).find("option:selected").text()),_(r).find("input").keyup(),_(o).find("input").val(_(t).text()),_(o).find("input").keyup(),"null"!=_(t).attr("postalCode")?_('input[name="postcode"]').val(_(t).attr("postalCode")):_('input[name="postcode"]').val(_(t).text()),_('input[name="postcode"]').keyup(),_("body").trigger("processStop")})}})}C.on("change",function(e){_("body").trigger("processStart"),_("#zip").val(""),_.ajax({url:"/places/search/",data:"parentId="+C.find("option:selected").attr("parentid"),type:"GET",dataType:"json",success:function(e){_(I).find('option:not([value=""])').remove(),_.each(e,function(e,t){_(I).append("<option value='"+t.Id+"' parentid='"+t.Id+"'>"+t.Name+"</option>")}),_("body").trigger("processStop")}});var t=_(C).find("option:selected");_(C).parent().find("input").val(_(t).text()),_(C).parent().find("input").keyup()}),_("#city_id").on("change",function(e){_("body").trigger("processStart"),_("#zip").val(""),_.ajax({url:"/places/search/",data:"parentId="+_("#city_id").find("option:selected").attr("parentid"),type:"GET",dataType:"json",success:function(e){_(M).find('select option:not([value=""])').remove(),_.each(e,function(e,t){_(M).find("select").append("<option value='"+t.ParentId+"' parentid='"+t.ParentId+"' postalcode='"+t.PostalCode+"'>"+t.Name+"</option>")}),_("body").trigger("processStop")}});var t=_("#city_id").find("option:selected");_("#city_id").parent().find("input").val(_(t).text()),_("#city_id").parent().find("input").keyup(),console.log("test")}),M.on("change",function(e){_("body").trigger("processStart");var t=_(M).find("option:selected");"null"!=_(t).attr("postalcode")&&_("#zip").hasClass("required-entry")&&(_("#zip").val(_(t).attr("postalcode")),_("#zip").keyup()),_("body").trigger("processStop")}),-1<window.location.href.indexOf("checkout")&&(console.log(_('input[name="billing-address-same-as-shipping"]').length),j=setInterval(function(){Q=_('form .fieldset.address input[name="region"]').parent(),1<=_(Q).length&&(S("form .fieldset.address"),clearInterval(j))},1e3));_(document).on("change","[name='billing-address-same-as-shipping']",function(){var e;0==_(this).prop("checked")&&(e=_('form fieldset[data-form="billing-new-address"] input[name="region"]').parent(),1<=_(e).length&&S(_('form fieldset[data-form="billing-new-address"]')))});var T=_("footer a");_.each(T,function(e,t){if("Zendesk Support"==t.innerText||"Preguntas frecuentes"==t.innerText){var n=_(this).parent();_("footer .col-sm-3:eq(0) ul").append(n)}})});var e=jQuery(".search.results .products-grid .product-items .item"),n=[];jQuery.each(e,function(e,t){n.push(jQuery(t).innerHeight()),console.log(jQuery(t).innerHeight())}),Math.max.apply(Math,n),jQuery(e).css("height",Math.max.apply(Math,n)+"px"),jQuery(window).on("scroll",function(){300<jQuery(window).scrollTop()?jQuery("#scroll-to-top").addClass("show"):jQuery("#scroll-to-top").removeClass("show")})});