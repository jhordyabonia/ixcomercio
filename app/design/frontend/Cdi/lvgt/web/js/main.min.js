require(["jquery","owlCarouselJs","mainJs","domReady!"],function(q){jQuery(document).ready(function(){var t=q(window).width(),n=q(window).height();if(jQuery("#scroll-to-top").click(function(){return jQuery("html, body").animate({scrollTop:0},600,"easeOutCubic"),!1}),q(".products-grid .product-items").length){var e=q(".products-grid .product-items .item"),a=q(e).find(".product-image-wrapper"),i=q(e).find(".product-name"),o=q(e).find(".atributo-familia"),r=q(e).find(".price-box"),s=[],d=[],c=[],l=[],p=[];setTimeout(function(){jQuery.each(a,function(e,t){d.push(jQuery(t).innerHeight())}),Math.max.apply(Math,d),jQuery(a).css("minHeight",Math.max.apply(Math,d)+"px"),jQuery.each(i,function(e,t){c.push(jQuery(t).innerHeight())}),Math.max.apply(Math,c),jQuery(i).css("minHeight",Math.max.apply(Math,c)+"px"),jQuery.each(o,function(e,t){l.push(jQuery(t).innerHeight())}),Math.max.apply(Math,l),jQuery(o).css("minHeight",Math.max.apply(Math,l)+"px"),jQuery.each(r,function(e,t){p.push(jQuery(t).innerHeight())}),Math.max.apply(Math,p),jQuery(r).css("minHeight",Math.max.apply(Math,p)+"px"),jQuery.each(e,function(e,t){s.push(jQuery(t).innerHeight())}),Math.max.apply(Math,s),jQuery(e).css("height",Math.max.apply(Math,s)+"px")},500)}if(jQuery(".control-qty").on("click",function(e){var t=jQuery(this),n=t.parent(),a=n.find("input.input-text.qty"),i=parseInt(a.val());t.hasClass("remove")?2<=i&&(a.val(i-1),2==i&&t.addClass("disable")):t.hasClass("add")&&(a.val(i+1),n.find(".remove").removeClass("disable"))}),q(".catalog-product-view .product-addto-links").length){var u=q(".catalog-product-view .product-addto-links");u.remove(),q(".product-info_main .product-add-form .box-tocart .actions").append(u)}if(q(".catalog-product-view .product-info_main .ept-social-share").length&&q(".catalog-product-view .product-info_main .product-social-links").length){var f=q(".catalog-product-view .product-info_main .product-social-links");q(".catalog-product-view .product-info_main .ept-social-share").append(f)}q("footer .footer-nav .link-block h4").click(function(){q(this).hasClass("open")?(q(this).removeClass("open"),q(this).find(".icon").removeClass("icon-up-open").addClass("icon-down-open"),q(this).find(".icon").html("&#xe82c;"),q(this).parent().find("ul").slideUp()):(q("footer .footer-nav .link-block h4").removeClass("open"),q("footer .footer-nav .link-block ul").slideUp(),q("footer .footer-nav .link-block h4 .icon").removeClass("icon-up-open").addClass("icon-down-open"),q("footer .footer-nav .link-block h4 .icon").html("&#xe82c;"),q(this).addClass("open"),q(this).find(".icon").removeClass("icon-down-open").addClass("icon-up-open"),q(this).find(".icon").html("&#xe82f;"),q(this).parent().find("ul").slideDown())});var h=q("input.required-entry, select.required-entry");function g(){jQuery(".block-search").toggleClass("open"),jQuery(".icon-search-button").toggleClass("close"),q("#iconBurgerButton").hasClass("close")&&m()}function m(){var e=n-q(".page-header").innerHeight();q("header.page-header .wrapper-nav .nav-sections").toggleClass("open"),q("body").toggleClass("open-menu"),q("header .wrapper-nav .nav-sections").css("minHeight",e),q("#iconBurgerButton").toggleClass("close"),setTimeout(function(){q("header .wrapper-nav .nav-sections .nav-sections-items").toggleClass("open")},200)}if(q.each(h,function(e,t){q(t).parents(".field").hasClass("required")||q(t).parents(".field").addClass("required")}),jQuery(".icon-search-button").click(function(){g()}),q("#iconBurgerButton").click(function(){q(".icon-search-button").hasClass("close")&&g(),m()}),q("header .nav-sections .navigation ul.ui-menu .level0.parent > .level-top > .ui-menu-icon").click(function(e){e.preventDefault(),t<=992&&q(this).parent().parent().find(" > .submenu").slideToggle()}),q("header .header-toplinks a").click(function(){q(".icon-search-button").hasClass("close")&&g(),q("#iconBurgerButton").hasClass("close")&&m()}),q("header .switcher-language .action.switcher-trigger").click(function(){q(".icon-search-button").hasClass("close")&&g(),q("#iconBurgerButton").hasClass("close")&&m()}),q(".products-grid .owl-carousel").length&&q(".products-grid .owl-carousel").owlCarousel({nav:!0,dots:!0,navSpeed:800,loop:!0,margin:30,responsive:{0:{items:1},650:{items:3},992:{items:4}}}),q(".header-account-mobile").length){var v=q(".header-account-mobile"),y=q("header.page-header .header-wrapper-nav .wrapper-nav .nav-sections .nav-sections-items");q(y).append(v)}var b,j,C=q("form .fieldset > .field.region #region_id");function x(){q("body").trigger("processStart"),q("#zip").val(""),q.ajax({url:"/places/search/",type:"GET",dataType:"json",success:function(e){q(C).find('option:not([value=""])').remove(),q.each(e,function(e,t){q(C).append("<option value='"+t.Name+"' parentid='"+t.Id+"'>"+t.Name+"</option>")}),q(C).show(),q(C).attr("disabled",!1),q("input#region").hide(),q("body").trigger("processStop")}})}q(C).length&&(j=setInterval(function(){b=q(C).find("option"),1<=q(b).length&&(x(),clearInterval(j))},1e3));var k=q("form .fieldset > .field.country #country");q(k).change(function(){x()});var w,Q,I=q("form .fieldset > .field.city #city_id"),M=q("form .fieldset > .field.street-zone .control");function S(i){q("body").trigger("processStart"),q(i).find('input[name="postcode"]').parents(".field").hide(),q(i).find('input[name="postcode"]').val("");var o=q(i).find("> .field.street .control .additional .control"),r=q(i).find('> .field input[name="custom_attributes[zone_id]"]').parent();q(o).find("input").hide(),q(r).find("input").hide(),Q=q(i).find('> .field input[name="city"]').parent(),q.ajax({url:"/places/search/",type:"GET",dataType:"json",success:function(t){if(q(w).find("input").length){console.log(q(w)),console.log(q(w).find("input")),q(w).find("input").hide();var n='<select id="fieldStateCheckout" class="select" name="state_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a region, state or province.</option>';q.each(t,function(e,t){n+="<option value='' parentid='"+t.Id+"''>"+t.Name+"</option>"}),n+="</select>",q(w).append(n)}else{var e=q(w).find("select option");q.each(e,function(e,n){var a=q(n).text();q.each(t,function(e,t){t.Name==a&&(q(n).attr("parentId",t.Id),q(n).show())})})}q(Q).find("input").hide();q(Q).append('<select id="fieldCityCheckout" class="select" name="cities_id" aria-required="true" aria-invalid="false" disabled><option data-title="" value="">Please select a city.</option></select>');q(r).append('<select id="fieldZoneCheckout" class="select" name="zone_id" aria-required="true" aria-invalid="false" disabled><option data-title="" value="">Please select a zone.</option></select>'),q("body").trigger("processStop");var a=q(w).find("select");q(a).on("change",function(e){q("body").trigger("processStart"),q(i).find('input[name="postcode"]').val(""),q.ajax({url:"/places/search/",data:"parentId="+q(a).find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){q(Q).find("select").attr("disabled",!1),q(Q).find('select option:not([value=""])').remove(),q.each(e,function(e,t){q(Q).find("select").append("<option value='"+t.Id+"' parentId='"+t.Id+"'>"+t.Name+"</option>")}),q("body").trigger("processStop")}});var t=q(w).find("select option:selected");q(w).find("input").val(q(t).text()),q(w).find("input").keyup()}),q(i).find("#fieldCityCheckout").on("change",function(e){q("body").trigger("processStart"),q(i).find('input[name="postcode"]').val("");var t=q(Q).find("select option:selected");q(Q).find("input").val(q(t).text()),q(Q).find("input").keyup(),q.ajax({url:"/places/search/",data:"parentId="+q(this).find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){q(r).find("select").attr("disabled",!1),q(r).find("select option").remove(),q(r).find("select").append('<option data-title="" value="" selected>Please select a zone.</option>'),q.each(e,function(e,t){q(r).find("select").append("<option value='"+t.ParentId+"' parentId='"+t.ParentId+"' postalCode='"+t.PostalCode+"'>"+t.Name+"</option>")}),q("body").trigger("processStop")}})}),q(r).find("select").on("change",function(e){q("body").trigger("processStart");var t=q(r).find("select option:selected");q(r).find("input").val(q(this).find("option:selected").text()),q(r).find("input").keyup(),q(o).find("input").val(q(t).text()),q(o).find("input").keyup(),"null"!=q(t).attr("postalCode")?q('input[name="postcode"]').val(q(t).attr("postalCode")):q('input[name="postcode"]').val(q(t).text()),q('input[name="postcode"]').keyup(),q("body").trigger("processStop")})}})}C.on("change",function(e){q("body").trigger("processStart"),q("#zip").val(""),q.ajax({url:"/places/search/",data:"parentId="+C.find("option:selected").attr("parentid"),type:"GET",dataType:"json",success:function(e){q(I).find('option:not([value=""])').remove(),q.each(e,function(e,t){q(I).append("<option value='"+t.Id+"' parentid='"+t.Id+"'>"+t.Name+"</option>")}),q("body").trigger("processStop")}});var t=q(C).find("option:selected");q(C).parent().find("input").val(q(t).text()),q(C).parent().find("input").keyup()}),q("#city_id").on("change",function(e){q("body").trigger("processStart"),q("#zip").val(""),q.ajax({url:"/places/search/",data:"parentId="+q("#city_id").find("option:selected").attr("parentid"),type:"GET",dataType:"json",success:function(e){q(M).find('select option:not([value=""])').remove(),q.each(e,function(e,t){q(M).find("select").append("<option value='"+t.ParentId+"' parentid='"+t.ParentId+"' postalcode='"+t.PostalCode+"'>"+t.Name+"</option>")}),q("body").trigger("processStop")}});var t=q("#city_id").find("option:selected");q("#city_id").parent().find("input").val(q(t).text()),q("#city_id").parent().find("input").keyup(),console.log("test")}),M.on("change",function(e){q("body").trigger("processStart");var t=q(M).find("option:selected");"null"!=q(t).attr("postalcode")&&q("#zip").hasClass("required-entry")&&(q("#zip").val(q(t).attr("postalcode")),q("#zip").keyup()),q("body").trigger("processStop")}),-1<window.location.href.indexOf("checkout")&&(j=setInterval(function(){w=q('form .fieldset.address input[name="region"]').parent(),1<=q(w).length&&(S("form .fieldset.address"),clearInterval(j))},1e3));var T=0;q(document).on("change","[name='billing-address-same-as-shipping']",function(){0==q(".field-select-billing select").length&&(T+=1,0==q(this).prop("checked")&&(w=q('.billing-address-form form fieldset.address input[name="region"]').parent(),1<=q(w).length&&1==T&&S(q(".billing-address-form form fieldset.address"))))}),q(document).on("change","select[name='billing_address_id']",function(){T+=1,w=q('.billing-address-form form fieldset.address input[name="region"]').parent(),1<=q(w).length&&0==T&&S(q(".billing-address-form form fieldset.address"))});var _=q("footer a");q.each(_,function(e,t){if("Zendesk Support"==t.innerText||"Preguntas frecuentes"==t.innerText){var n=q(this).parent();q("footer .col-sm-3:eq(0) ul").append(n)}})});var e=jQuery(".search.results .products-grid .product-items .item"),n=[];jQuery.each(e,function(e,t){n.push(jQuery(t).innerHeight()),console.log(jQuery(t).innerHeight())}),Math.max.apply(Math,n),jQuery(e).css("height",Math.max.apply(Math,n)+"px"),jQuery(window).on("scroll",function(){300<jQuery(window).scrollTop()?jQuery("#scroll-to-top").addClass("show"):jQuery("#scroll-to-top").removeClass("show")})});