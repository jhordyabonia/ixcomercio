require(["jquery","owlCarouselJs","mainJs","domReady!"],function(C){jQuery(document).ready(function(){if(jQuery("#scroll-to-top").click(function(){return jQuery("html, body").animate({scrollTop:0},600,"easeOutCubic"),!1}),C(".products-grid .product-items").length){var e=C(".products-grid .product-items > .item"),t=C(e).find(".product-image-wrapper"),n=C(e).find(".product-name"),a=C(e).find(".atributo-familia"),i=C(e).find(".price-box"),o=[],l=[],s=[],r=[],d=[];setTimeout(function(){jQuery.each(t,function(e,t){l.push(jQuery(t).innerHeight())}),Math.max.apply(Math,l),jQuery(t).css("minHeight",Math.max.apply(Math,l)+"px"),jQuery.each(n,function(e,t){s.push(jQuery(t).innerHeight())}),Math.max.apply(Math,s),jQuery(n).css("minHeight",Math.max.apply(Math,s)+"px"),jQuery.each(a,function(e,t){r.push(jQuery(t).innerHeight())}),Math.max.apply(Math,r),jQuery(a).css("minHeight",Math.max.apply(Math,r)+"px"),jQuery.each(i,function(e,t){d.push(jQuery(t).innerHeight())}),Math.max.apply(Math,d),jQuery(i).css("minHeight",Math.max.apply(Math,d)+"px"),jQuery.each(e,function(e,t){o.push(jQuery(t).innerHeight())}),Math.max.apply(Math,o),jQuery(e).css("height",Math.max.apply(Math,o)+"px")},500)}jQuery(".control-qty").on("click",function(e){var t=jQuery(this),n=t.parent(),a=n.find("input.input-text.qty"),i=parseInt(a.val());t.hasClass("remove")?2<=i&&(a.val(i-1),2==i&&t.addClass("disable")):t.hasClass("add")&&(a.val(i+1),n.find(".remove").removeClass("disable"))}),C("footer .footer-nav .link-block h4").click(function(){C(this).hasClass("open")?(C(this).removeClass("open"),C(this).find(".icon").removeClass("icon-up-open").addClass("icon-down-open"),C(this).find(".icon").html("&#xe82c;"),C(this).parent().find("ul").slideUp()):(C("footer .footer-nav .link-block h4").removeClass("open"),C("footer .footer-nav .link-block ul").slideUp(),C("footer .footer-nav .link-block h4 .icon").removeClass("icon-up-open").addClass("icon-down-open"),C("footer .footer-nav .link-block h4 .icon").html("&#xe82c;"),C(this).addClass("open"),C(this).find(".icon").removeClass("icon-down-open").addClass("icon-up-open"),C(this).find(".icon").html("&#xe82f;"),C(this).parent().find("ul").slideDown())});var c=C("input.required-entry, select.required-entry");C.each(c,function(e,t){C(t).parents(".field").hasClass("required")||C(t).parents(".field").addClass("required")}),jQuery(".icon-search-button").click(function(){jQuery(".block-search").toggleClass("open"),jQuery(this).toggleClass("close")}),jQuery("#iconBurgerButton").click(function(){jQuery("header.page-header .wrapper-nav .nav-sections").toggleClass("open"),jQuery(this).toggleClass("close")}),C(".products-grid .owl-carousel").length&&C(".products-grid .owl-carousel").owlCarousel({nav:!0,dots:!0,navSpeed:800,loop:!0,margin:30,responsive:{0:{items:1},650:{items:3},992:{items:4}}});var p,u,f=C("form .fieldset > .field.region #region_id");function h(){C.ajax({url:"/places/search/",type:"GET",dataType:"json",success:function(e){C(f).find('option:not([value=""])').remove(),C.each(e,function(e,t){C(f).append("<option value='"+t.Id+"' parentid='"+t.Id+"'>"+t.Name+"</option>")}),C(f).show(),C(f).attr("disabled",!1),C("input#region").hide()}})}C(f).length&&(u=setInterval(function(){p=C(f).find("option"),1<=C(p).length&&(h(),clearInterval(u))},1e3));var y=C("form .fieldset > .field.country #country");C(y).change(function(){h()});var v,m,g=C("form .fieldset > .field.city #city_id"),j=C("form .fieldset > .field.street .control .nested .additional .control");C(j).append('<select id="fieldSelectStreet" class="select" name="street2_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a zone.</option></select>'),C(j).find("input").hide(),f.on("change",function(e){C.ajax({url:"/places/search/",data:"parentId="+f.find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){C(g).find('option:not([value=""])').remove(),C.each(e,function(e,t){C(g).append("<option value='"+t.Id+"' parentId='"+t.Id+"'>"+t.Name+"</option>")})}});var t=C(f).find("option:selected");C(f).parent().find("input").val(C(t).text()),C(f).parent().find("input").keyup()}),C("#city_id").on("change",function(e){C.ajax({url:"/places/search/",data:"parentId="+C("#city_id").find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){C(j).find('select option:not([value=""])').remove(),C.each(e,function(e,t){C(j).find("select").append("<option value='"+t.ParentId+"' parentId='"+t.ParentId+"' postalCode='"+t.PostalCode+"'>"+t.Name+"</option>")})}})}),C("#fieldSelectStreet").on("change",function(e){var t=C("#fieldSelectStreet").find("option:selected");C(j).find("input").val(C(t).text()),C(j).find("input").keyup(),C("#zip").val(C(t).attr("postalCode")),C("#zip").find("input").keyup()}),-1<window.location.href.indexOf("checkout")&&(u=setInterval(function(){m=C('form .fieldset > .field[name="shippingAddress.region_id"] .control'),1<=C(m).length&&(function(){var i=C("form .fieldset > .field.street .control .additional .control");C(i).append('<select id="fieldSelectStreet" class="select" name="street2_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a zone.</option></select>'),C(i).find("input").hide(),v=C('form .fieldset > .field[name="shippingAddress.city"] .control'),C.ajax({url:"/places/search/",type:"GET",dataType:"json",success:function(t){if(C(m).find("input").length){C(m).find("input").hide();var n='<select id="fieldStateCheckout" class="select" name="state_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a region, state or province.</option>';C.each(t,function(e,t){n+="<option value='' parentid='"+t.Id+"''>"+t.Name+"</option>"}),n+="</select>",C(m).append(n)}else{var e=C(m).find("select option");C.each(e,function(e,n){var a=C(n).text();C.each(t,function(e,t){t.Name==a&&(C(n).attr("parentId",t.Id),C(n).show())})})}C(v).find("input").hide(),C(v).append('<select id="fieldCityCheckout" class="select" name="cities_id" aria-required="true" aria-invalid="false"><option data-title="" value="">Please select a city.</option></select>');var a=C(m).find("select");C(a).on("change",function(e){C.ajax({url:"/places/search/",data:"parentId="+C(a).find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){console.log(e),C(v).find('select option:not([value=""])').remove(),C.each(e,function(e,t){C(v).find("select").append("<option value='"+t.Id+"' parentId='"+t.Id+"'>"+t.Name+"</option>")})}});var t=C(m).find("select option:selected");C(m).find("input").val(C(t).text()),C(m).find("input").keyup()}),C("#fieldCityCheckout").on("change",function(e){var t=C(v).find("select option:selected");C(v).find("input").val(C(t).text()),C(v).find("input").keyup(),C.ajax({url:"/places/search/",data:"parentId="+C("#fieldCityCheckout").find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){C(i).find('select option:not([value=""])').remove(),C.each(e,function(e,t){C(i).find("select").append("<option value='"+t.ParentId+"' parentId='"+t.ParentId+"' postalCode='"+t.PostalCode+"'>"+t.Name+"</option>")})}})}),C("#fieldSelectStreet").on("change",function(e){var t=C("#fieldSelectStreet").find("option:selected");C(i).find("input").val(C(t).text()),C(i).find("input").keyup(),C('input[name="postcode"]').val(C(t).attr("postalCode")),C('input[name="postcode"]').keyup()})}})}(),clearInterval(u))},1e3))});var e=jQuery(".search.results .products-grid .product-items .item"),n=[];jQuery.each(e,function(e,t){n.push(jQuery(t).innerHeight()),console.log(jQuery(t).innerHeight())}),Math.max.apply(Math,n),jQuery(e).css("height",Math.max.apply(Math,n)+"px"),jQuery(window).on("scroll",function(){300<jQuery(window).scrollTop()?jQuery("#scroll-to-top").addClass("show"):jQuery("#scroll-to-top").removeClass("show")})});