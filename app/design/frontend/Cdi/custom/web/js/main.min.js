require(["jquery"],function(M,e){"use strict";jQuery("#scroll-to-top").click(function(){return jQuery("html, body").animate({scrollTop:0},600,"easeOutCubic"),!1});var _=jQuery(window).width();return M(document).ready(function(){var e=M(".account-cart-wrapper"),t=M("header .block-search");if(_<=768){M("header > .nav-sections").addClass("skip-content"),M(t).addClass("skip-content"),M(".skip-links-wrapper").append(M(e).html()),M("header").append(t);var a=M(".skip-links-wrapper #header-account");M("header").append(a),M(".account-cart-wrapper").remove(),M("header .skip-links-wrapper .minicart-wrapper a.showcart, header .skip-links-wrapper .dropdown-toggle.banderas").click(function(){M("header .skip-links-wrapper .skip-link").removeClass("skip-active"),M("header .skip-links-wrapper .minicart-wrapper a.showcart").removeClass("active")})}var p,c,o=M(".skip-content"),r=M(".skip-link");if(r.on("click",function(e){e.preventDefault();var t=M(this),a=t.attr("data-target-element")?t.attr("data-target-element"):t.attr("href"),i=M(a),n=i.hasClass("skip-active")?1:0;r.removeClass("skip-active"),o.removeClass("skip-active"),n?t.removeClass("skip-active"):(t.addClass("skip-active"),i.addClass("skip-active"))}),M(".products-grid .product-items").length){var i=M(".products-grid .product-items > .item"),n=M(i).find(".product-image-wrapper"),s=M(i).find(".product-item-name"),d=M(i).find(".atributo-familia"),l=M(i).find(".product-reviews-summary"),u=M(i).find(".price-box"),f=M(i).find(".swatch-opt"),h=[],m=[],v=[],y=[],g=[],k=[],j=[];setTimeout(function(){jQuery.each(n,function(e,t){m.push(jQuery(t).innerHeight())}),Math.max.apply(Math,m),jQuery(n).css("minHeight",Math.max.apply(Math,m)+"px"),jQuery.each(s,function(e,t){v.push(jQuery(t).innerHeight())}),Math.max.apply(Math,v),jQuery(s).css("minHeight",Math.max.apply(Math,v)+"px"),jQuery.each(d,function(e,t){y.push(jQuery(t).innerHeight())}),Math.max.apply(Math,y),jQuery(d).css("minHeight",Math.max.apply(Math,y)+"px"),jQuery.each(l,function(e,t){g.push(jQuery(t).innerHeight())}),Math.max.apply(Math,g),jQuery(l).css("minHeight",Math.max.apply(Math,g)+"px"),jQuery.each(u,function(e,t){k.push(jQuery(t).innerHeight())}),Math.max.apply(Math,k),jQuery(u).css("minHeight",Math.max.apply(Math,k)+"px"),jQuery.each(f,function(e,t){j.push(jQuery(t).innerHeight())}),Math.max.apply(Math,j),jQuery(f).css("minHeight",Math.max.apply(Math,j)+"px"),jQuery.each(i,function(e,t){h.push(jQuery(t).innerHeight())}),Math.max.apply(Math,h),jQuery(i).css("height",Math.max.apply(Math,h)+"px")},500)}function w(e,a,t){if(M(e).length&&a.length){var i=M(e).val(),n=M(a).find("option");n.length?"text"==t?M.each(n,function(e,t){M(t).text()==i&&(M(t).prop("selected",!0),setTimeout(function(){M(a).trigger("change")},500))}):"val"==t&&M.each(n,function(e,t){M(t).attr("value")==i&&(M(t).prop("selected",!0),setTimeout(function(){M(a).trigger("change")},500))}):console.log("el ws no retornÃ³ opciones para "+M(a).attr("id"))}}function x(r,e){M("body").trigger("processStart"),M(r).find('input[name="postcode"]').parents(".field").hide(),M(r).find('input[name="postcode"]').val("");var s=M(r).find("> .field.street .control .additional .control"),d=M(r).find(e).parent();M(s).find("input").hide(),M(d).find("input").hide(),c=M(r).find('> .field input[name="city"]').parent(),M.ajax({url:"/places/search/",type:"GET",dataType:"json",success:function(t){if(M(p).find("input").length){M(p).find("input").hide();var a='<select id="fieldStateCheckout" class="select" name="state_id" aria-required="true" aria-invalid="false"><option data-title="" value="">'+M.mage.__("Please select a region, state or province.")+"</option>";M.each(t,function(e,t){a+="<option value='' parentid='"+t.Id+"''>"+t.Name+"</option>"}),a+="</select>",0==M(r).find("#fieldStateCheckout").length&&M(p).append(a),w(M(r).find("#region"),M(r).find("#fieldStateCheckout"),"text")}else{var e=M(p).find("select option");M.each(e,function(e,a){var i=M(a).text();M.each(t,function(e,t){t.Name==i&&(M(a).attr("parentId",t.Id),M(a).show())})})}M(c).find("input").hide();var i='<select id="fieldCityCheckout" class="select" name="cities_id" aria-required="true" aria-invalid="false" disabled><option data-title="" value="">'+M.mage.__("Please select a city.")+"</option></select>";0==M(r).find("#fieldCityCheckout").length&&M(c).append(i);var n='<select id="fieldZoneCheckout" class="select" name="zone_id" aria-required="true" aria-invalid="false" disabled><option data-title="" value="">'+M.mage.__("Please select a zone.")+"</option></select>";0==M(r).find("#fieldZoneCheckout").length&&M(d).append(n),M("body").trigger("processStop");var o=M(p).find("select#fieldStateCheckout");M(o).on("change",function(e){M("body").trigger("processStart"),M(r).find('input[name="postcode"]').val(""),M.ajax({url:"/places/search/",data:"parentId="+M(o).find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){M(c).find("select").attr("disabled",!1),M(c).find('select option:not([value=""])').remove(),M.each(e,function(e,t){M(c).find("select").append("<option value='"+t.Id+"' parentId='"+t.Id+"'>"+t.Name+"</option>")}),w("#city","#fieldCityCheckout","text"),M("body").trigger("processStop")}}),M(p).find("input").val(M(this).find("option:selected").text()),M(p).find("input").keyup()}),M(r).find("#fieldCityCheckout").on("change",function(e){M("body").trigger("processStart"),M(r).find('input[name="postcode"]').val("");M(c).find("select option:selected");M(c).find("input").val(M(this).find("option:selected").text()),M(c).find("input").keyup(),M.ajax({url:"/places/search/",data:"parentId="+M(this).find("option:selected").attr("parentId"),type:"GET",dataType:"json",success:function(e){M(d).find("select").attr("disabled",!1),M(d).find("select option").remove(),M(d).find("select").append('<option data-title="" value="" selected>Please select a zone.</option>'),M.each(e,function(e,t){M(d).find("select").append("<option value='"+t.PostalCode+"' parentId='"+t.ParentId+"' postalCode='"+t.PostalCode+"'>"+t.Name+"</option>")}),w("#zone_id","#fieldZoneCheckout","val"),M("body").trigger("processStop")}})}),M(d).find("select").on("change",function(e){M("body").trigger("processStart");var t=M(d).find("select option:selected");M(d).find("input").val(M(this).find("option:selected").text()),M(d).find("input").keyup(),M(s).find("input").val(M(this).find("option:selected").text()),M(s).find("input").keyup(),"null"!=M(t).attr("postalCode")?(M(r).find('input[name="postcode"]').show(),M(r).find('input[name="postcode"]').val(M(t).attr("postalCode"))):(M(r).find('input[name="postcode"]').hide(),M(r).find('input[name="postcode"]').val(M(t).text())),M(r).find('input[name="postcode"]').keyup(),M("body").trigger("processStop")})}})}jQuery(".control-qty").on("click",function(e){var t=jQuery(this),a=t.parent(),i=a.find("input.input-text.qty"),n=parseInt(i.val());t.hasClass("remove")?2<=n&&(i.val(n-1),2==n&&t.addClass("disable")):t.hasClass("add")&&(i.val(n+1),a.find(".remove").removeClass("disable"))}),-1<window.location.href.indexOf("checkout")&&(intervalState=setInterval(function(){p=M('form .fieldset.address input[name="region"]').parent(),1<=M(p).length&&(x("form .fieldset.address",'> .field input[name="custom_attributes[zone_id]"]'),clearInterval(intervalState))},1e3)),-1<window.location.href.indexOf("customer")&&(intervalState=setInterval(function(){p=M('form.form-address-edit .fieldset input[name="region"]').parent(),1<=M(p).length&&(M(".form-address-edit .field-name-firstname").before(M(".field-identification")),x("form.form-address-edit .fieldset",'.field input[name="zone_id"]'),clearInterval(intervalState))},1e3));var C=0;M(document).on("change","[name='billing-address-same-as-shipping']",function(){if(0==M(".field-select-billing select").length){if(C+=1,0==M(this).prop("checked")){var e=M(".payment-method._active .billing-address-form form fieldset.address");p=M(e).find('input[name="region"]').parent(),console.log("fieldStateCheckout "+p),1<=M(p).length&&1==C&&x(e,'> .field input[name="custom_attributes[zone_id]"]')}}else C=0}),M(document).on("change","[name='billing_address_id']",function(){C+=1,p=M('.billing-address-form form fieldset.address input[name="region"]').parent(),C<=1&&x(M(".billing-address-form form fieldset.address"),'> .field input[name="custom_attributes[zone_id]"]')}),M(document).on("change","[name='country_id']",function(){"GT"==M(this).val()?M('input[name="postcode"]').parents(".field").hide():M('input[name="postcode"]').parents(".field").show()});var b=M("footer a");M.each(b,function(e,t){if("Zendesk Support"==t.innerText||"Preguntas frecuentes"==t.innerText){var a=M(this).parent();M("footer .footer .footer-nav .second-nav").append(a)}});var Q=M(".sticky-product-nav");M(Q).length&&(M(".sticky-product-nav").remove(),M(".page-wrapper .page-main>.columns").prepend(Q))}),M(document).ajaxComplete(function(){jQuery(".product-options-wrapper .swatch-attribute.jam_color .swatch-attribute-options .swatch-option").hover(function(){var e=jQuery(this).attr("option-label");jQuery(".swatch-attribute-selected-option").text(e)},function(){jQuery(".swatch-attribute-selected-option").text(jQuery(".product-options-wrapper .swatch-attribute.jam_color .swatch-attribute-options .swatch-option.selected").attr("option-label"))})}),jQuery(window).on("scroll",function(){300<jQuery(window).scrollTop()?jQuery("#scroll-to-top").addClass("show"):jQuery("#scroll-to-top").removeClass("show")}),e});